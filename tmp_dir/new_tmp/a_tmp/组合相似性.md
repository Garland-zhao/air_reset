# 组合相似性

 compute_date 最早日期 2017-01-01



* ##### 基本数据

  * 净值数据
  * 



## A02

后端默认把组合所有数据都给出，前端按需展示分页（A04，组合保存的时候，该字段以 json 方式（只有一条数据）保存，数据库无法分页操作）



## A03 生成相似组合（显示相似组合）

验证区间： compute_date 往后66个交易日（3个月）

回测区间：3个月 



* #####其他模型数据
  * 行业穿透



生成的20组 相似组合 存储，需要设计成 按组存储

key：    

1.  fund_code:compute_date:port:id ( id- 1,20)

2. fund_code:compute_date:ind:id ( id- 1,20)

3. fund_code:compute_date:ret:id ( id- 1,20)

* ##### 验证收益率

  * 累计收益率 ： ((Wi(t) * Ri(t+1)).sum() +1).cumpord() - 1
  * 日收益率 (Wi(t) * Ri(t+1)).sum()

* ##### 回测收益 （日收益率才能计算下列指标）

  * 波动率： df .std()
  * 最大回测：function 找 @倪晓东
  * 夏普比率： 找@倪晓东
  * 

Q： 同样一只基金、同一个计算日期生成的相似组合是否要缓存，以便刷新页面的时候，不需要计算

​	缓存 redis， 过期一天



## A04保存相似组合

数据有：

	* 组合名称
	* 组合 id
	* 管理人
 * 组合详情 （数据是列表，可以 保存 json 格式）
   	* fund_code 
   	* fund_name
   	* weight
   	* compute_date



## B01 追踪相似组合

概念

追踪相似组合：生成相似组合后，如果你想长期观察（追踪），那么就可以把改组合保存下来。



## B02

无数据



## B03 追踪相似组合-切换组合

功能：

1. 展示组合列表
2. 删除组合（可多选）



## B04 白名单交互



1. 校验白名单



## B05 等待数据交互

异步

1. 提交计算
2. 定时获取状态